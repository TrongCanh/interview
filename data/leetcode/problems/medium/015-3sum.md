# 3Sum / T·ªïng Ba S·ªë

> LeetCode Problem 15 - Medium

---

## üìå Th√¥ng tin B√†i to√°n / Problem Information

- **Problem ID:** 15
- **URL:** https://leetcode.com/problems/3sum/
- **ƒê·ªô kh√≥ / Difficulty:** Medium
- **Danh m·ª•c / Category:** Array, Two Pointers, Sorting
- **Tags:** array, two-pointers, sorting
- **Thu·∫≠t to√°n li√™n quan / Related Algorithms:** Array, Sorting
- **Patterns li√™n quan / Related Patterns:** Two Pointers

---

## üìÑ ƒê·ªÅ B√†i Nguy√™n B·∫£n / Original Problem

> Copy nguy√™n vƒÉn t·ª´ LeetCode

Given an integer array `nums`, return all the triplets `[nums[i], nums[j], nums[k]]` such that `i != j`, `i != k`, and `j != k`, and `nums[i] + nums[j] + nums[k] == 0`.

Notice that the solution set must not contain duplicate triplets.

**Example 1:**

```
Input: nums = [-1,0,1,2,-1,-4]
Output: [[-1,-1,2],[-1,0,1]]
Explanation:
nums[0] + nums[1] + nums[2] = (-1) + 0 + 1 = 0.
nums[1] + nums[2] + nums[4] = 0 + 1 + (-1) = 0.
nums[0] + nums[3] + nums[4] = (-1) + 2 + (-1) = 0.
The distinct triplets are [-1,0,1] and [-1,-1,2].
Notice that the order of the output and the order of the triplets does not matter.
```

**Example 2:**

```
Input: nums = [0,1,1]
Output: []
Explanation: The only possible triplet does not sum up to 0.
```

**Example 3:**

```
Input: nums = [0,0,0,0]
Output: [[0,0,0]]
Explanation: The only possible triplet sums up to 0.
```

**Constraints:**

- `3 <= nums.length <= 3000`
- `-10^5 <= nums[i] <= 10^5`

---

## üß† Ph√¢n t√≠ch ƒê·ªÅ B√†i / Problem Analysis

### 1. Hi·ªÉu ƒë·ªÅ b√†i / Understanding the Problem

- **Input:** M·ªôt m·∫£ng nums c√≥ ƒë·ªô d√†i t·ª´ 3 ƒë·∫øn 3000.
- **Output:** T·∫•t c·∫£ c√°c b·ªô ba s·ªë (triplet) c√≥ t·ªïng b·∫±ng 0, kh√¥ng tr√πng l·∫∑p.
- **R√†ng bu·ªôc / Constraints:**
  - ƒê·ªô d√†i m·∫£ng: 3 ƒë·∫øn 3000
  - Gi√° tr·ªã m·ªói ph·∫ßn t·ª≠: -100,000 ƒë·∫øn 100,000
  - Kh√¥ng ƒë∆∞·ª£c c√≥ triplet tr√πng l·∫∑p trong k·∫øt qu·∫£
- **Edge cases:**
  - M·∫£ng c√≥ √≠t h∆°n 3 ph·∫ßn t·ª≠: kh√¥ng c√≥ triplet
  - M·∫£ng c√≥ t·∫•t c·∫£ s·ªë b·∫±ng 0: ch·ªâ c√≥ [0,0,0]
  - M·∫£ng kh√¥ng c√≥ triplet n√†o: tr·∫£ v·ªÅ []

### 2. T∆∞ duy / Thinking Process

- **B∆∞·ªõc 1:** Hi·ªÉu y√™u c·∫ßu
  - T√¨m t·∫•t c·∫£ c√°c b·ªô ba s·ªë (i, j, k) kh√°c nhau
  - T·ªïng c·ªßa ba s·ªë b·∫±ng 0
  - Kh√¥ng ƒë∆∞·ª£c c√≥ triplet tr√πng l·∫∑p

- **B∆∞·ªõc 2:** T∆∞ duy Brute Force
  - Ki·ªÉm tra t·∫•t c·∫£ c√°c b·ªô ba (i, j, k) c√≥ th·ªÉ
  - T√≠nh t·ªïng v√† ki·ªÉm tra b·∫±ng 0
  - L∆∞u c√°c triplet kh√¥ng tr√πng
  - V·∫•n ƒë·ªÅ: O(n¬≥) - qu√° ch·∫≠m v·ªõi n = 3000

- **B∆∞·ªõc 3:** T∆∞ duy Sorting + Two Pointers
  - S·∫Øp x·∫øp m·∫£ng tr∆∞·ªõc
  - V·ªõi m·ªói ph·∫ßn t·ª≠ nums[i] (l√†m ph·∫ßn t·ª≠ ƒë·∫ßu ti√™n):
    - D√πng Two Pointers ƒë·ªÉ t√¨m hai ph·∫ßn t·ª≠ c√≤n l·∫°i
    - left = i + 1, right = n - 1
    - T√≠nh sum = nums[i] + nums[left] + nums[right]
    - N·∫øu sum < 0: left++ (c·∫ßn s·ªë l·ªõn h∆°n)
    - N·∫øu sum > 0: right-- (c·∫ßn s·ªë nh·ªè h∆°n)
    - N·∫øu sum == 0: th√™m triplet, di chuy·ªÉn c·∫£ left v√† right
  - B·ªè qua c√°c ph·∫ßn t·ª≠ tr√πng ƒë·ªÉ tr√°nh triplet tr√πng

### 3. V√≠ d·ª• minh h·ªça / Examples

```
Example 1: nums = [-1,0,1,2,-1,-4]
Sau khi s·∫Øp x·∫øp: [-4,-1,-1,0,1,2]

i=0, nums[i]=-4:
  left=1, right=4: sum = -4 + (-1) + 2 = -3 < 0 ‚Üí left++
  left=2, right=4: sum = -4 + (-1) + 2 = -3 < 0 ‚Üí left++
  left=3, right=4: sum = -4 + 0 + 2 = -2 < 0 ‚Üí left++
  left=4, right=4: left >= right, d·ª´ng

i=1, nums[i]=-1:
  left=2, right=4: sum = -1 + (-1) + 2 = 0 ‚Üí th√™m [-1,-1,2]
    B·ªè qua c√°c -1 tr√πng: left=3
  left=3, right=4: sum = -1 + 0 + 2 = 1 > 0 ‚Üí right--
  left=3, right=3: left >= right, d·ª´ng

i=2, nums[i]=-1:
  left=3, right=4: sum = -1 + 0 + 2 = 1 > 0 ‚Üí right--
  left=3, right=3: left >= right, d·ª´ng

i=3, nums[i]=0:
  left=4, right=4: left >= right, d·ª´ng

K·∫øt qu·∫£: [[-1,-1,2],[-1,0,1]]
```

---

## üí° Gi·∫£i ph√°p 1: Brute Force (C∆° b·∫£n nh·∫•t) / Basic Solution

### √ù t∆∞·ªüng / Idea

Ki·ªÉm tra t·∫•t c·∫£ c√°c b·ªô ba (i, j, k) c√≥ th·ªÉ, t√≠nh t·ªïng v√† ki·ªÉm tra b·∫±ng 0.

### Thu·∫≠t to√°n / Algorithm

1. Kh·ªüi t·∫°o result = []
2. V·ªõi m·ªói i t·ª´ 0 ƒë·∫øn n-3:
   a. V·ªõi m·ªói j t·ª´ i+1 ƒë·∫øn n-2:
   b. V·ªõi m·ªói k t·ª´ j+1 ƒë·∫øn n-1:
   c. N·∫øu nums[i] + nums[j] + nums[k] == 0: - Th√™m [nums[i], nums[j], nums[k]] v√†o result
3. Lo·∫°i b·ªè c√°c triplet tr√πng
4. Tr·∫£ v·ªÅ result

### Code / Implementation

```javascript
/**
 * @param {number[]} nums
 * @return {number[][]}
 */
function solution1_bruteForce(nums) {
  const n = nums.length;
  const result = [];

  // Ki·ªÉm tra t·∫•t c·∫£ c√°c b·ªô ba
  for (let i = 0; i < n - 2; i++) {
    for (let j = i + 1; j < n - 1; j++) {
      for (let k = j + 1; k < n; k++) {
        if (nums[i] + nums[j] + nums[k] === 0) {
          const triplet = [nums[i], nums[j], nums[k]].sort((a, b) => a - b);

          // Ki·ªÉm tra xem triplet ƒë√£ c√≥ ch∆∞a
          const exists = result.some(
            (r) =>
              r[0] === triplet[0] && r[1] === triplet[1] && r[2] === triplet[2],
          );

          if (!exists) {
            result.push(triplet);
          }
        }
      }
    }
  }

  return result;
}
```

### ƒê·ªô ph·ª©c t·∫°p / Complexity

- **Time Complexity:** O(n¬≥) - ki·ªÉm tra t·∫•t c·∫£ c√°c b·ªô ba
- **Space Complexity:** O(n¬≥) - trong tr∆∞·ªùng h·ª£p x·∫•u nh·∫•t, c√≥ O(n¬≥) triplet

### ∆Øu ƒëi·ªÉm / Pros

- ƒê∆°n gi·∫£n, d·ªÖ hi·ªÉu
- Code d·ªÖ ƒë·ªçc
- Kh√¥ng c·∫ßn t∆∞ duy ph·ª©c t·∫°p

### Nh∆∞·ª£c ƒëi·ªÉm / Cons

- Qu√° ch·∫≠m v·ªõi m·∫£ng l·ªõn
- Time Limit Exceeded tr√™n LeetCode
- Kh√¥ng t·ªëi ∆∞u

---

## üöÄ Gi·∫£i ph√°p 2: Sorting + Two Pointers (C·∫£i ti·∫øn) / Optimized Solution

### Ph√¢n t√≠ch c·∫£i ti·∫øn / Improvement Analysis

- **T·∫°i sao c·∫ßn c·∫£i ti·∫øn?** Gi·∫£i ph√°p Brute Force qu√° ch·∫≠m O(n¬≥), kh√¥ng ch·∫•p nh·∫≠n ƒë∆∞·ª£c v·ªõi n = 3000.
- **ƒêi·ªÉm y·∫øu c·ªßa gi·∫£i ph√°p 1?** Ki·ªÉm tra l·∫°i c√°c b·ªô ba ƒë√£ xem x√©t nhi·ªÅu l·∫ßn.
- **C√°ch ti·∫øp c·∫≠n m·ªõi?** S·∫Øp x·∫øp m·∫£ng v√† d√πng Two Pointers ƒë·ªÉ t√¨m hai ph·∫ßn t·ª≠ c√≤n l·∫°i.

### √ù t∆∞·ªüng / Idea

S·∫Øp x·∫øp m·∫£ng tr∆∞·ªõc. V·ªõi m·ªói ph·∫ßn t·ª≠ nums[i], d√πng Two Pointers ƒë·ªÉ t√¨m hai ph·∫ßn t·ª≠ c√≤n l·∫°i c√≥ t·ªïng b·∫±ng -nums[i].

### Thu·∫≠t to√°n / Algorithm

1. S·∫Øp x·∫øp m·∫£ng nums
2. Kh·ªüi t·∫°o result = []
3. V·ªõi m·ªói i t·ª´ 0 ƒë·∫øn n-3:
   a. B·ªè qua nums[i] n·∫øu tr√πng v·ªõi nums[i-1]
   b. left = i + 1, right = n - 1
   c. Trong khi left < right:
   - sum = nums[i] + nums[left] + nums[right]
   - N·∫øu sum < 0: left++
   - N·∫øu sum > 0: right--
   - N·∫øu sum == 0:
     - Th√™m [nums[i], nums[left], nums[right]] v√†o result
     - B·ªè qua c√°c nums[left] tr√πng
     - B·ªè qua c√°c nums[right] tr√πng
     - left++, right--
4. Tr·∫£ v·ªÅ result

### Code / Implementation

```javascript
/**
 * @param {number[]} nums
 * @return {number[][]}
 */
function solution2_twoPointers(nums) {
  const n = nums.length;
  nums.sort((a, b) => a - b); // S·∫Øp x·∫øp m·∫£ng
  const result = [];

  for (let i = 0; i < n - 2; i++) {
    // B·ªè qua ph·∫ßn t·ª≠ tr√πng
    if (i > 0 && nums[i] === nums[i - 1]) {
      continue;
    }

    let left = i + 1;
    let right = n - 1;

    while (left < right) {
      const sum = nums[i] + nums[left] + nums[right];

      if (sum < 0) {
        left++;
      } else if (sum > 0) {
        right--;
      } else {
        // T√¨m th·∫•y triplet
        result.push([nums[i], nums[left], nums[right]]);

        // B·ªè qua c√°c ph·∫ßn t·ª≠ tr√πng
        while (left < right && nums[left] === nums[left + 1]) {
          left++;
        }
        while (left < right && nums[right] === nums[right - 1]) {
          right--;
        }

        left++;
        right--;
      }
    }
  }

  return result;
}
```

### ƒê·ªô ph·ª©c t·∫°p / Complexity

- **Time Complexity:** O(n¬≤) - s·∫Øp x·∫øp O(n log n) + v√≤ng l·∫∑p O(n¬≤)
- **Space Complexity:** O(1) ho·∫∑c O(n) - t√πy thu·ªôc thu·∫≠t to√°n s·∫Øp x·∫øp

### ∆Øu ƒëi·ªÉm / Pros

- T·ªëi ∆∞u v·ªÅ th·ªùi gian
- Ch·∫•p nh·∫≠n ƒë∆∞·ª£c tr√™n LeetCode
- Code r√µ r√†ng

### Nh∆∞·ª£c ƒëi·ªÉm / Cons

- C·∫ßn s·∫Øp x·∫øp m·∫£ng (thay ƒë·ªïi th·ª© t·ª± ban ƒë·∫ßu)
- T∆∞ duy Two Pointers c·∫ßn th·ªùi gian ƒë·ªÉ hi·ªÉu

---

## ‚ö° Gi·∫£i ph√°p 3: Hash Set (N√¢ng cao) / Advanced Solution

### Ph√¢n t√≠ch n√¢ng cao / Advanced Analysis

- **C√≥ th·ªÉ c·∫£i thi·ªán th√™m kh√¥ng?** V·ªÅ m·∫∑t ƒë·ªô ph·ª©c t·∫°p th·ªùi gian, gi·∫£i ph√°p 2 ƒë√£ t·ªëi ∆∞u O(n¬≤). Tuy nhi√™n, c√≥ th·ªÉ d√πng Hash Set.
- **C√≥ thu·∫≠t to√°n/pattern n√†o ph√π h·ª£p h∆°n?** S·ª≠ d·ª•ng Hash Set ƒë·ªÉ t√¨m hai ph·∫ßn t·ª≠ c√≤n l·∫°i.

### √ù t∆∞·ªüng / Idea

V·ªõi m·ªói ph·∫ßn t·ª≠ nums[i], d√πng Hash Set ƒë·ªÉ t√¨m hai ph·∫ßn t·ª≠ c√≤n l·∫°i c√≥ t·ªïng b·∫±ng -nums[i]. T∆∞∆°ng t·ª± b√†i to√°n Two Sum.

### Thu·∫≠t to√°n / Algorithm

1. Kh·ªüi t·∫°o result = []
2. V·ªõi m·ªói i t·ª´ 0 ƒë·∫øn n-3:
   a. B·ªè qua nums[i] n·∫øu tr√πng v·ªõi nums[i-1]
   b. T·∫°o set = new Set()
   c. V·ªõi m·ªói j t·ª´ i+1 ƒë·∫øn n-1:
   - target = -nums[i] - nums[j]
   - N·∫øu set.has(target):
     - Th√™m [nums[i], nums[j], target] v√†o result
   - Th√™m nums[j] v√†o set
3. Lo·∫°i b·ªè c√°c triplet tr√πng
4. Tr·∫£ v·ªÅ result

### Code / Implementation

```javascript
/**
 * @param {number[]} nums
 * @return {number[][]}
 */
function solution3_hashSet(nums) {
  const n = nums.length;
  const result = [];

  for (let i = 0; i < n - 2; i++) {
    // B·ªè qua ph·∫ßn t·ª≠ tr√πng
    if (i > 0 && nums[i] === nums[i - 1]) {
      continue;
    }

    const seen = new Set();

    for (let j = i + 1; j < n; j++) {
      const target = -nums[i] - nums[j];

      if (seen.has(target)) {
        const triplet = [nums[i], nums[j], target].sort((a, b) => a - b);

        // Ki·ªÉm tra xem triplet ƒë√£ c√≥ ch∆∞a
        const exists = result.some(
          (r) =>
            r[0] === triplet[0] && r[1] === triplet[1] && r[2] === triplet[2],
        );

        if (!exists) {
          result.push(triplet);
        }
      }

      seen.add(nums[j]);
    }
  }

  return result;
}
```

### ƒê·ªô ph·ª©c t·∫°p / Complexity

- **Time Complexity:** O(n¬≤)
- **Space Complexity:** O(n) - cho set

### ∆Øu ƒëi·ªÉm / Pros

- Kh√¥ng c·∫ßn s·∫Øp x·∫øp m·∫£ng
- D√πng Hash Set - hi·ªáu qu·∫£

### Nh∆∞·ª£c ƒëi·ªÉm / Cons

- C·∫ßn ki·ªÉm tra triplet tr√πng (t·ªën th·ªùi gian)
- Kh√¥ng t·ªëi ∆∞u h∆°n gi·∫£i ph√°p 2

---

## üìä So s√°nh C√°c Gi·∫£i ph√°p / Solution Comparison

| Gi·∫£i ph√°p / Solution | Time  | Space          | ƒê·ªô kh√≥ / Difficulty | Khi n√†o d√πng / When to use |
| -------------------- | ----- | -------------- | ------------------- | -------------------------- |
| Brute Force          | O(n¬≥) | O(n¬≥)          | D·ªÖ / Easy           | M·∫£ng nh·ªè, c·∫ßn nhanh        |
| Two Pointers         | O(n¬≤) | O(1) ho·∫∑c O(n) | Trung b√¨nh / Medium | T·ªëi ∆∞u th·ªùi gian           |
| Hash Set             | O(n¬≤) | O(n)           | Trung b√¨nh / Medium | Kh√¥ng mu·ªën s·∫Øp x·∫øp         |

---

## üß™ Test Cases

### Test Case 1: C∆° b·∫£n / Basic

```javascript
const nums = [-1, 0, 1, 2, -1, -4];
console.log(solution1_bruteForce(nums)); // Expected: [[-1,-1,2],[-1,0,1]]
console.log(solution2_twoPointers(nums)); // Expected: [[-1,-1,2],[-1,0,1]]
console.log(solution3_hashSet(nums)); // Expected: [[-1,-1,2],[-1,0,1]]
```

### Test Case 2: Kh√¥ng c√≥ triplet

```javascript
const nums = [0, 1, 1];
console.log(solution1_bruteForce(nums)); // Expected: []
console.log(solution2_twoPointers(nums)); // Expected: []
console.log(solution3_hashSet(nums)); // Expected: []
```

### Test Case 3: T·∫•t c·∫£ s·ªë b·∫±ng 0

```javascript
const nums = [0, 0, 0, 0];
console.log(solution1_bruteForce(nums)); // Expected: [[0,0,0]]
console.log(solution2_twoPointers(nums)); // Expected: [[0,0,0]]
console.log(solution3_hashSet(nums)); // Expected: [[0,0,0]]
```

### Test Case 4: C√≥ s·ªë √¢m l·ªõn

```javascript
const nums = [-2, 0, 1, 1, 2];
console.log(solution2_twoPointers(nums)); // Expected: [[-2,0,2],[-2,1,1]]
```

### Test Case 5: M·∫£ng l·ªõn

```javascript
const nums = Array.from({ length: 100 }, (_, i) => i - 50);
console.log(solution2_twoPointers(nums).length); // Expected: s·ªë l∆∞·ª£ng triplet
```

---

## üìö T√†i li·ªáu tham kh·∫£o / References

- [Two Pointers](../../algorithms/patterns/two-pointers.md)
- [Array](../../algorithms/data-structures/array.md)
- [Sorting](../../algorithms/algorithms/sorting.md)
- [LeetCode Discuss](https://leetcode.com/problems/3sum/discuss/)
- [Video gi·∫£i th√≠ch - NeetCode](https://www.youtube.com/watch?v=jzZsGQnNKQ)

---

## üí¨ L·ªùi khuy√™n / Tips

- **Tip 1:** Lu√¥n s·∫Øp x·∫øp m·∫£ng tr∆∞·ªõc khi d√πng Two Pointers
- **Tip 2:** B·ªè qua c√°c ph·∫ßn t·ª≠ tr√πng ƒë·ªÉ tr√°nh triplet tr√πng
- **Tip 3:** Khi t√¨m th·∫•y triplet, di chuy·ªÉn c·∫£ left v√† right
- **L·ªói th∆∞·ªùng g·∫∑p:** Qu√™n b·ªè qua ph·∫ßn t·ª≠ tr√πng, d·∫´n ƒë·∫øn triplet tr√πng trong k·∫øt qu·∫£

---

_Last updated: 2026-02-03_
